{% extends 'base.html' %}
{% block title %}Páginas{% endblock %}

{% block content %}
  <h2>Listado de Páginas</h2>

  <form method="get" action="{% url 'page_list' %}">
    <input type="text" name="q" placeholder="Buscar por título..." value="{{ request.GET.q }}">
    <button type="submit">Buscar</button>
  </form>

{% if user.is_authenticated %}
    <a href="{% url 'page_create' %}">Crear nueva página</a>
  {% endif %}

  <ul>
    {% if paginas %}
      {% for page in paginas %}
        <li><a href="{% url 'page_detail' page.pk %}">{{ page.titulo }}</a></li>
      {% endfor %}
    {% else %}
      <li>No se encontró ninguna coincidencia.</li>
    {% endif %}
  </ul>
{% endblock %}